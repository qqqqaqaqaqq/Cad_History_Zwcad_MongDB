<UserControl x:Class="CadEye_WebVersion.Views.AdminView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:CadEye_WebVersion.Views"
             mc:Ignorable="d" 
             d:DesignHeight="600" d:DesignWidth="1000">

    <Grid Margin="20"
          HorizontalAlignment="Center"
          VerticalAlignment="Center"
          Background="{Binding DataContext.GlobalBackgroundColor_View, RelativeSource={RelativeSource AncestorType=Window}}">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="350"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- 관리자 기본 정보 카드 -->
        <Border Grid.Row="0" Grid.Column="0" CornerRadius="15"
                Background="{Binding DataContext.GlobalBackgroundColor, RelativeSource={RelativeSource AncestorType=Window}}"
                BorderBrush="{Binding DataContext.GlobalBorderBrush, RelativeSource={RelativeSource AncestorType=Window}}"
                Padding="20" Margin="10">
            <Border.Effect>
                <DropShadowEffect Color="Black" BlurRadius="10" ShadowDepth="2" Opacity="0.2"/>
            </Border.Effect>
            <StackPanel>
                <TextBlock Text="Admin Info" FontWeight="Bold" FontSize="18" 
                           Foreground="{Binding DataContext.GlobalForeground, RelativeSource={RelativeSource AncestorType=Window}}"
                           Margin="0,0,0,15"/>

                <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                    <TextBlock Text="ID:" Width="120" 
                               Foreground="{Binding DataContext.GlobalForeground, RelativeSource={RelativeSource AncestorType=Window}}"
                               FontWeight="SemiBold"/>
                    <TextBlock Text="{Binding id}" 
                               Foreground="{Binding DataContext.GlobalForeground, RelativeSource={RelativeSource AncestorType=Window}}"/>
                </StackPanel>

                <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                    <TextBlock Text="Email:" Width="120"
                               Foreground="{Binding DataContext.GlobalForeground, RelativeSource={RelativeSource AncestorType=Window}}"
                               FontWeight="SemiBold"/>
                    <TextBlock Text="{Binding Email}" 
                               Foreground="{Binding DataContext.GlobalForeground, RelativeSource={RelativeSource AncestorType=Window}}"/>
                </StackPanel>

                <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                    <TextBlock Text="Role:" Width="120" FontWeight="SemiBold"     
                               Foreground="{Binding DataContext.GlobalForeground, RelativeSource={RelativeSource AncestorType=Window}}"/>
                    <TextBlock Text="{Binding Role}"  
                               Foreground="{Binding DataContext.GlobalForeground, RelativeSource={RelativeSource AncestorType=Window}}"/>
                </StackPanel>

                <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                    <TextBlock Text="Theme:" Width="120" FontWeight="SemiBold"   
                               Foreground="{Binding DataContext.GlobalForeground, RelativeSource={RelativeSource AncestorType=Window}}"/>
                    <CheckBox IsChecked="{Binding Theme}"
                               Foreground="{Binding DataContext.GlobalForeground, RelativeSource={RelativeSource AncestorType=Window}}"
                              Content="Dark Mode"/>
                </StackPanel>

                <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                    <TextBlock Text="CAD Threads:" Width="120" FontWeight="SemiBold"    
                               Foreground="{Binding DataContext.GlobalForeground, RelativeSource={RelativeSource AncestorType=Window}}"/>
                    <TextBox Text="{Binding CADThread}" Width="60" Padding="3" 
                             Foreground="{Binding DataContext.GlobalForeground, RelativeSource={RelativeSource AncestorType=Window}}"
                             BorderBrush="{Binding DataContext.GlobalBorderBrush, RelativeSource={RelativeSource AncestorType=Window}}"
                             BorderThickness="1" 
                             Background="Transparent"/>
                </StackPanel>

                <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                    <TextBlock Text="PDF Threads:" Width="120" FontWeight="SemiBold"
                                Foreground="{Binding DataContext.GlobalForeground, RelativeSource={RelativeSource AncestorType=Window}}"/>
                    <TextBox Text="{Binding PDFThread}" Width="60" Padding="3"
                             Foreground="{Binding DataContext.GlobalForeground, RelativeSource={RelativeSource AncestorType=Window}}"
                             BorderBrush="{Binding DataContext.GlobalBorderBrush, RelativeSource={RelativeSource AncestorType=Window}}"
                             BorderThickness="1" 
                             Background="Transparent"/>
                </StackPanel>

                <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                    <TextBlock Text="Created At:" Width="120" FontWeight="SemiBold"
                                Foreground="{Binding DataContext.GlobalForeground, RelativeSource={RelativeSource AncestorType=Window}}"/>
                    <TextBlock Text="{Binding CreatedAt}"  Foreground="{Binding DataContext.GlobalForeground, RelativeSource={RelativeSource AncestorType=Window}}"/>
                </StackPanel>

                <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                    <TextBlock Text="Last Login:" Width="120" FontWeight="SemiBold"
                                Foreground="{Binding DataContext.GlobalForeground, RelativeSource={RelativeSource AncestorType=Window}}"/>
                    <TextBlock Text="{Binding LastLogin}"
                                Foreground="{Binding DataContext.GlobalForeground, RelativeSource={RelativeSource AncestorType=Window}}"/>
                </StackPanel>
                <Border CornerRadius="12" 
                    Background="#4A90E2"
                    Padding="2"
                    Margin="10"
                    Effect="{DynamicResource DropShadow}">
                    <Button Width="100" Height="50"
                            Background="Transparent"
                            BorderThickness="0"
                            Foreground="{Binding DataContext.GlobalForeground, RelativeSource={RelativeSource AncestorType=Window}}"
                            FontWeight="Bold"
                            FontSize="14"
                            Cursor="Hand"
                            Content="Save">
                        <Button.Style>
                            <Style TargetType="Button">
                                <Setter Property="Foreground" Value="{Binding DataContext.GlobalForeground, RelativeSource={RelativeSource AncestorType=Window}}"/>
                                <Setter Property="Background" Value="Transparent"/>
                                <Setter Property="Template">
                                    <Setter.Value>
                                        <ControlTemplate TargetType="Button">
                                            <ContentPresenter HorizontalAlignment="Center"
                                                      VerticalAlignment="Center"/>
                                        </ControlTemplate>
                                    </Setter.Value>
                                </Setter>
                                <Style.Triggers>
                                    <!-- Hover -->
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter Property="Foreground" Value="#FFD700"/>
                                    </Trigger>
                                    <!-- Pressed -->
                                    <Trigger Property="IsPressed" Value="True">
                                        <Setter Property="Foreground" Value="#FFB300"/>
                                    </Trigger>
                                </Style.Triggers>
                            </Style>
                        </Button.Style>
                    </Button>
                </Border>
            </StackPanel>
        </Border>

        <!-- 연결된 유저 리스트 카드 -->
        <Border Grid.Row="0" Grid.Column="1" Grid.RowSpan="2" CornerRadius="15" 
                Background="{Binding DataContext.GlobalBackgroundColor, RelativeSource={RelativeSource AncestorType=Window}}"
                Padding="15" Margin="10">
            <Border.Effect>
                <DropShadowEffect Color="Black" BlurRadius="10" ShadowDepth="2" Opacity="0.2"/>
            </Border.Effect>
            <StackPanel>
                <TextBlock Text="Connected Users" FontWeight="Bold" FontSize="18" 
                           Foreground="{Binding DataContext.GlobalForeground, RelativeSource={RelativeSource AncestorType=Window}}"
                           Margin="0,0,0,10"/>
                <DataGrid ItemsSource="{Binding ConnectUser}" 
                          AutoGenerateColumns="False" 
                          CanUserAddRows="False"
                          Style="{StaticResource Data_Gaid_Background}"
                          ColumnHeaderStyle="{StaticResource Data_Grid_ColumnHeader}"
                          CellStyle="{StaticResource Data_Grid_Cell}"
                          GridLinesVisibility="None"
                          BorderThickness="0" HeadersVisibility="Column">
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="Name" Binding="{Binding name}" Width="*" />
                        <DataGridTextColumn Header="Role" Binding="{Binding role}" Width="120" />
                        <DataGridCheckBoxColumn Header="Active" Binding="{Binding isActive}" Width="80"/>
                    </DataGrid.Columns>
                </DataGrid>
            </StackPanel>
        </Border>
    </Grid>
</UserControl>
